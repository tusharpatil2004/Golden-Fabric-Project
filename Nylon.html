<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fabric Shop - Nylon</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  /* Custom scrollbar for cart panel */
  #cartPanel::-webkit-scrollbar {
    width: 6px;
  }
  #cartPanel::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 3px;
  }
  #cartPanel::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
  .sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
  padding-top: -25px;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
  font-family: 'poppins';
}
</style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col">

  <!-- Header -->
  <header class="flex items-center justify-between p-4 bg-gray-800 sticky top-0 z-20">
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a href="home.html" class="fas fa-home"> Home</a><br>
      <a href="aboutus.html" class="fas fa-user"> About Us</a><br>
      <a href="contactus.html" class="fas fa-phone"> Contact Us</a>
    </div>
    <span aria-label="Menu" class="text-white text-3xl" style="font-size:30px;cursor:pointer;margin-left:15px;" onclick="openNav()">&#9776;</span>
    <div class="font-bold text-xl tracking-wide">GOLDEN FABRICS</div>
    
    <!-- Cart Icon with count -->
    <div class="relative cursor-pointer" id="cartIcon" title="View Cart">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" 
              stroke-linejoin="round" 
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 6m5-6v6m4-6v6m5-12h-6" />
      </svg>
      <span id="cartCount" class="absolute -top-1 -right-1 bg-red-600 rounded-full text-xs w-5 h-5 flex items-center justify-center font-semibold">0</span>
    </div>
  </header>

    <!-- Main content container -->
  <main class="flex-grow container mx-auto p-4 flex flex-col md:flex-row gap-8 justify-center" >

    <!-- Fabric info panel -->
    <aside class="md:w-1/4 bg-gray-800 rounded-lg p-4 flex flex-col items-center" style="font-size: 20px;">
      <img id="fabricThumbnail" 
           src="images/nylon.jpg" 
           alt="Cotton fabric thumbnail" 
           class="rounded-lg mb-4 object-cover w-48 h-48" />
      <h2 class="text-white text-lg font-semibold mb-2" style="font-size: 20px;">Nylon</h2>
      <div class="bg-gray-600 text-sm text-gray-300 px-2 py-1 rounded mb-2" style="font-size: 20px;">From Rs. 2,000 (10 Meter)</div>
      <p class="text-red-600 text-sm font-semibold mb-2" style="font-size: 15px;">Minimum Order Quantity 10 Meter</p>
      <p class="text-gray-300  text-center" style="font-size: 18px;">
        (Speciality: beauty, comfort, durability & versatility)
      </p>
      <br>
      <p class="text-gray-300 text-xs mb-2 text-center" style="font-size: 20px; margin-bottom: 15px;">
        Characteristics of Nylon fabric
      </p>
      
      <ul class="text-gray-300 list-disc list-inside mb-4" style="font-size: 18px; margin-left: 20px;">
        <li>Lightweight & Smooth Texture</li>
        
        <li>Water-Resistant & Quick Drying</li>
        
        <li>Elastic & Wrinkle-Resistant</li>
        
        <li>Heat & UV Sensitivity</li>
        
        <li>Easy tto Dye & Customize</li>
        
      </ul>
       <!-- Quantity Input -->
      
       <h2 >Qty. <input type="number" id="quantityInput" min="1" value="1" class="bg-gray-700 text-white p-2 rounded w-14 text-center mb-2" />
       </h2>
       <button id="addToCartBtn" class="bg-gray-700 hover:bg-gray-600 py-2 px-4 rounded font-semibold transition-colors">
         Add to cart
       </button>
       <small style="color: red; margin-top: 10px;">(Quantity 1 Means 10 Meter Fabric)</small>
    </aside>
               
  <!-- Fabric detailed view -->
  <section class="md:w-2/3">
    <h1 class="text-3xl font-bold text-yellow-400 mb-4 text-center md:text-left">Nylon Fabric</h1>
    <img src="images/Nylonmanufacturing.jpg"
         alt="Cotton fabric detailed" 
         class="w-full rounded-lg mb-6 border border-gray-700 "  />
    <p class="text-gray-100 text-sm leading-relaxed" style="font-size: 20px;">
        Nylon is silky smooth, strong, tough, durable, and lighter weight compared
        to polyester. Since nylon fabric features synthetic plastic, it's highly resistant to attacks
         from molds, insects, and fungi. Nylon resists water and dries quickly compared to natural 
         fibers, but it's not as hydrophobic as polyester.
    </p>
  </section>
</main>
<!-- Cart Panel (initially hidden) -->
<aside id="cartPanel" 
class="fixed top-16 right-4 w-90 max-h-100 bg-gray-800 border border-yellow-400 rounded-lg shadow-lg overflow-auto p-4 hidden z-30">
<h2 class="text-yellow-400 text-lg font-bold mb-4">Your Cart</h2>
<div id="cartItems" class="flex flex-col gap-4 max-h-72 overflow-auto"></div>
<p id="emptyCartMsg" class="text-gray-400 text-center">Your cart is empty.</p>
<br>
<a href="place-order.html" class="text-yellow-400 text-lg font-bold mb-4" style="margin-left: 95px;">Place Order</a>
</aside>
           
</body>
<script>
  // Elements references
  const addToCartBtn = document.getElementById('addToCartBtn');
  const cartPanel = document.getElementById('cartPanel');
  const cartIcon = document.getElementById('cartIcon');
  const cartItemsContainer = document.getElementById('cartItems');
  const cartCount = document.getElementById('cartCount');
  const emptyCartMsg = document.getElementById('emptyCartMsg');
  const quantityInput = document.getElementById('quantityInput');
  const fabricName = 'Nylon';
  const fabricImage = 'images/nylon.jpg';
  const fabricPrice = 2000; // Store as a number for calculations

  // Cart data array
  let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

  // Function to render cart items inside cartPanel
  function renderCart() {
      // Clear current items
      cartItemsContainer.innerHTML = '';
      let subtotal = 0; // Total for all items
      
      if (cartItems.length === 0) {
          emptyCartMsg.style.display = 'block';
      } else {
          emptyCartMsg.style.display = 'none';
          cartItems.forEach((item, index) => {
              const itemDiv = document.createElement('div');
              itemDiv.classList.add('flex', 'items-center', 'gap-3');

              // Image Thumbnail
              const img = document.createElement('img');
              img.src = item.image;
              img.alt = item.name + ' image';
              img.classList.add('w-12', 'h-12', 'object-cover', 'rounded');

              // Name span
              const name = document.createElement('span');
              name.textContent = item.name;
              name.classList.add('flex-grow', 'text-white', 'font-semibold');

              // Quantity span
              const quantity = document.createElement('span');
              quantity.textContent ='Qty. '+ item.quantity;
              quantity.classList.add('flex-grow', 'text-white', 'font-semibold');

              // Subtotal calculation
              const itemSubtotal = item.quantity * fabricPrice;
              subtotal += itemSubtotal;

              // Price span
              const price = document.createElement('span');
              price.textContent = 'Rs. ' + itemSubtotal;
              price.classList.add('flex-grow', 'text-white', 'font-semibold');

              // Remove button
              const removeBtn = document.createElement('button');
              removeBtn.textContent = 'Ã—';
              removeBtn.title = 'Remove from cart';
              removeBtn.classList.add('text-red-500', 'text-xl', 'font-bold', 'hover:text-red-700');
              removeBtn.onclick = () => { removeFromCart(index); };

              itemDiv.appendChild(img);
              itemDiv.appendChild(name);
              itemDiv.appendChild(quantity);
              itemDiv.appendChild(price);
              itemDiv.appendChild(removeBtn);
              cartItemsContainer.appendChild(itemDiv);
          });
      }

      // Update cart count badge
      cartCount.textContent = cartItems.length;

      // Update subtotal in the cart
      const subtotalElem = document.createElement('div');
      subtotalElem.textContent = 'Subtotal: Rs. ' + subtotal;
      subtotalElem.classList.add('text-yellow-400', 'font-bold');
      cartItemsContainer.appendChild(subtotalElem);
  }

  // Function to add item to cart
  function addToCart() {
      const quantity = parseInt(quantityInput.value, 10);
      // Check if quantity is valid
      if (isNaN(quantity) || quantity < 1) {
          alert('Minimum order quantity is 10 meters.');
          return;
      }

      // Check if already in cart - avoid duplicates
      const existingIndex = cartItems.findIndex(item => item.name === fabricName);
      if (existingIndex !== -1) {
          alert(fabricName + ' is already in your cart.');
          return;
      }

      cartItems.push({ name: fabricName, image: fabricImage, quantity: quantity });
      localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Save to local storage
      renderCart();
      alert(fabricName + ' added to cart!');
  }

  // Function to remove item from cart by index
  function removeFromCart(index) {
      cartItems.splice(index, 1);
      localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Update local storage
      renderCart();
  }

  // Toggle cart panel visibility on cart icon click
  cartIcon.addEventListener('click', () => {
      cartPanel.classList.toggle('hidden');
  });

  // Initial cart render
  renderCart();

  // Add event listener to button
  addToCartBtn.addEventListener('click', addToCart);

  function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
  }

  function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
  }
</script>
</html>