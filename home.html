<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fabric Shop - Cotton</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  /* Custom scrollbar for cart panel */
  #cartPanel::-webkit-scrollbar {
    width: 6px;
  }
  #cartPanel::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 3px;
  }
  #cartPanel::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
  .sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
  padding-top: -25px;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
  font-family: 'poppins';
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
        .header {
            text-align: center;
            padding: 50px 10px;
        }
        .header h1 {
            font-size: 36px;
            margin: 0;
        }
        
        .headerline1{
            margin-left: auto;
            margin-right: auto;
            
        }
        .headerline2 {
            color: red;
            text-decoration: none;
        }
        .luckiest-guy {
            font-family: 'Luckiest Guy', sans-serif;
            font-size: 70px;
            color: #ffffff;
            text-shadow: 4px 4px 0 #b8b8b88a;
        }
        .filter {
            text-align: center;
            margin: 20px 0;
        }
        .filter select {
            padding: 10px;
            font-size: 16px;
        }
        .products {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .product {
            background-color: #333;
            padding: 20px;
            text-align: center;
            width: 100%;
            
        }
        .product img {
            width: 100%;
            height: auto;
        }
        .productsnames{
            text-decoration: none;
        }
        .product h3 {
            font-size: 18px;
            margin: 10px 0;
            cursor: pointer;
            color: #ffffff;
            overflow: hidden;   
        }
        .product p {
            font-size: 16px;
            color: #ccc;
            cursor: pointer;
            color: #ffffff;
            overflow: hidden;  
        }
        .pagination {
            text-align: center;
            margin: 20px 0;
        }
        .pagination a {
            color: red;
            text-decoration: none;
            padding: 10px 15px;
            border: 1px solid red;
            margin: 0 5px;
        }
        @media (max-width: 768px) {
            .products {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 480px) {
            .products {
                grid-template-columns: 1fr;
            }
        }
</style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col">

  <!-- Header -->
  <header class="flex items-center justify-between p-4 bg-gray-800 sticky top-0 z-20">
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a href="home.html" class="fas fa-home"> Home</a>
      <a href="aboutus.html" class="fas fa-user"> About Us</a>
      <a href="contactus.html" class="fas fa-phone"> Contact Us</a>
      <a href="admin.html" class=""> All Orders</a>
       <a href="order-history.html" class=""> Your Order</a>
       <a href="UserAccount.html" class=""> Your Account</a>
    </div>
    <span aria-label="Menu" class="text-white text-3xl" style="font-size:30px;cursor:pointer;margin-left:15px;" onclick="openNav()">&#9776;</span>
    <div class="font-bold text-xl tracking-wide">GOLDEN FABRICS</div>
    
    <!-- Cart Icon with count -->
    <div class="relative cursor-pointer" id="cartIcon" title="View Cart">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" 
              stroke-linejoin="round" 
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 6m5-6v6m4-6v6m5-12h-6" />
      </svg>
      <span id="cartCount" class="absolute -top-1 -right-1 bg-red-600 rounded-full text-xs w-5 h-5 flex items-center justify-center font-semibold">0</span>
    </div>
</header>
  
<!---->
    <div class="header">
        <h1 class="luckiest-guy">Golden Fabrics</h1>
        <p class="headerline1">We are a Recovery lifestyle brand with the purpose of shining a light on addiction 
            & to celebrate our Hope with the world! Join us in making I HOPE Famous.</p>
        <p class="headerline2">ALL proceeds go to solving addiction</p>
    </div>
   
    <div class="products">
    <a href="Cotton.html" class="productsnames">
            <div class="product">
            <img src="images/cotton.jpg" alt="Hope Boys Unisex Tee">
            <h3>Cotton</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>
    
    <a href="Nylon.html" class="productsnames">
        <div class="product">
            <img src="images/nylon.jpg" alt="Ashes To Rubies Sweatshirt [White]">
            <h3>Nylon</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>
    
    <a href="Canvas.html" class="productsnames">
        <div class="product">
            <img src="images/Canvas.jpg" alt="Straight Outta Rehab Ladies Tee">
            <h3>Canvas</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>

    <a href="Cashmere.html" class="productsnames">
        <div class="product">
            <img src="images/cashmere.jpg" alt="Ashes To Rubies Unisex T-shirt">
            <h3>Cashmere</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>

    <a href="Chenille.html" class="productsnames">
        <div class="product">
            <img src="images/chenille.jpg" alt="Hope Is Famous Unisex Tee">
            <h3>Chenille</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>

    <a href="Jersey.html" class="productsnames">
        <div class="product">
            <img src="images/jersy.jpg" alt="Straight Outta Rehab Unisex Tee">
            <h3>Jersey</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>

    <a href="Silk.html" class="productsnames">
        <div class="product">
            <img src="images/silk.jpg" alt="Hope Is Famous Sweatshirt">
            <h3>Silk</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>

    <a href="Velvet.html" class="productsnames">
        <div class="product">
            <img src="images/velvet.jpg" alt="Ashes To Rubies Hoodie [White]">
            <h3>Velvet</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>
    
    <a href="Viscose.html" class="productsnames">
        <div class="product">
            <img src="images/viscose.jpg" alt="Hope Girls Ladies Racerback Tank">
            <h3>Viscose</h3>
            <p>From Rs. 2,000 (10 Meter)</p>
        </div>
    </a>  
    </div>

  <!-- Cart Panel (initially hidden) -->
  <aside id="cartPanel" 
         class="fixed top-16 right-4 w-90 max-h-100 bg-gray-800 border border-yellow-400 rounded-lg shadow-lg overflow-auto p-4 hidden z-30">
    <h2 class="text-yellow-400 text-lg font-bold mb-4">Your Cart</h2>
    <div id="cartItems" class="flex flex-col gap-4 max-h-72 overflow-auto"></div>
    <p id="emptyCartMsg" class="text-gray-400 text-center">Your cart is empty.</p>
    <br>
    <a href="place-order.html" class="text-yellow-400 text-lg font-bold mb-4" style="margin-left: 95px;">Place Order</a>
  </aside>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Elements references
    const addToCartBtn = document.getElementById('addToCartBtn');
    const cartPanel = document.getElementById('cartPanel');
    const cartIcon = document.getElementById('cartIcon');
    const cartItemsContainer = document.getElementById('cartItems');
    const cartCount = document.getElementById('cartCount');
    const emptyCartMsg = document.getElementById('emptyCartMsg');
    const quantityInput = document.getElementById('quantityInput');
    const fabricName = 'Viscose';
    const fabricImage = 'images/viscose.jpg';
    const fabricPrice = 2000; // Store as a number for calculations

    // Cart data array
    let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

    // Function to render cart items inside cartPanel
    function renderCart() {
        // Clear current items
        cartItemsContainer.innerHTML = '';
        let subtotal = 0; // Total for all items
        
        if (cartItems.length === 0) {
            emptyCartMsg.style.display = 'block';
        } else {
            emptyCartMsg.style.display = 'none';
            cartItems.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('flex', 'items-center', 'gap-3');

                // Image Thumbnail
                const img = document.createElement('img');
                img.src = item.image;
                img.alt = item.name + ' image';
                img.classList.add('w-12', 'h-12', 'object-cover', 'rounded');

                // Name span
                const name = document.createElement('span');
                name.textContent = item.name;
                name.classList.add('flex-grow', 'text-white', 'font-semibold');

                // Quantity span
                const quantity = document.createElement('span');
                quantity.textContent ='Qty. '+ item.quantity;
                quantity.classList.add('flex-grow', 'text-white', 'font-semibold');

                // Subtotal calculation
                const itemSubtotal = item.quantity * fabricPrice;
                subtotal += itemSubtotal;

                // Price span
                const price = document.createElement('span');
                price.textContent = 'Rs. ' + itemSubtotal;
                price.classList.add('flex-grow', 'text-white', 'font-semibold');

                // Remove button
                const removeBtn = document.createElement('button');
                removeBtn.textContent = '×';
                removeBtn.title = 'Remove from cart';
                removeBtn.classList.add('text-red-500', 'text-xl', 'font-bold', 'hover:text-red-700');
                removeBtn.onclick = () => { removeFromCart(index); };

                itemDiv.appendChild(img);
                itemDiv.appendChild(name);
                itemDiv.appendChild(quantity);
                itemDiv.appendChild(price);
                itemDiv.appendChild(removeBtn);
                cartItemsContainer.appendChild(itemDiv);
            });
        }

        // Update cart count badge
        cartCount.textContent = cartItems.length;

        // Update subtotal in the cart
        const subtotalElem = document.createElement('div');
        subtotalElem.textContent = 'Subtotal: Rs. ' + subtotal;
        subtotalElem.classList.add('text-yellow-400', 'font-bold');
        cartItemsContainer.appendChild(subtotalElem);
    }

    // Function to add item to cart
    function addToCart() {
        const quantity = parseInt(quantityInput.value, 10);
        // Check if quantity is valid
        if (isNaN(quantity) || quantity < 1) {
            alert('Minimum order quantity is 10 meters.');
            return;
        }

        // Check if already in cart - avoid duplicates
        const existingIndex = cartItems.findIndex(item => item.name === fabricName);
        if (existingIndex !== -1) {
            alert(fabricName + ' is already in your cart.');
            return;
        }

        cartItems.push({ name: fabricName, image: fabricImage, quantity: quantity });
        localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Save to local storage
        renderCart();
        alert(fabricName + ' added to cart!');
    }

    // Function to remove item from cart by index
    function removeFromCart(index) {
        cartItems.splice(index, 1);
        localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Update local storage
        renderCart();
    }

    // Toggle cart panel visibility on cart icon click
    cartIcon.addEventListener('click', () => {
        cartPanel.classList.toggle('hidden');
    });

    // Initial cart render
    renderCart();

    // Add event listener to button
    addToCartBtn.addEventListener('click', addToCart);
});

</script>
<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }
</script>
</body>
</html>